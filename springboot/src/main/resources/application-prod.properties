# Production Environment Configuration

# Server Configuration
server.port=${PORT:8080}
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=20
server.tomcat.max-connections=10000
server.tomcat.accept-count=500

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}


# API Documentation
api.server.url=https://api.descripto.ai/v1
api.server.description=Production Server

# Security Configuration
spring.security.user.name=${ADMIN_USERNAME}
spring.security.user.password=${ADMIN_PASSWORD}
spring.security.user.roles=ADMIN

# Production Configuration - Security & Performance
spring.devtools.add-properties=false
spring.main.allow-bean-definition-overriding=false
server.error.include-stacktrace=never
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# Cache Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterAccess=600s

# Actuator Configuration - Minimal in Production
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never
management.endpoints.web.base-path=/actuator

# Rate Limiting Configuration
resilience4j.ratelimiter.instances.default.limitForPeriod=100
resilience4j.ratelimiter.instances.default.limitRefreshPeriod=1s
resilience4j.ratelimiter.instances.default.timeoutDuration=0
resilience4j.ratelimiter.instances.auth.limitForPeriod=3
resilience4j.ratelimiter.instances.auth.limitRefreshPeriod=60s

# Swagger/OpenAPI Configuration - Disabled in Production
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.try-it-out-enabled=false 

# Email Configuration - Production
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Application Configuration - Production
app.name=Descripto
app.verification.token.expiry-hours=${VERIFICATION_TOKEN_EXPIRY:24}
app.base-url=${BASE_URL:https://api.descripto.ai}

# Production logging - Using Spring Boot defaults

# Database Configuration - Production Optimized
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect.storage_engine=default

# Connection Pool - Production Optimized
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000 